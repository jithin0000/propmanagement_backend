import faker
from datetime import date, datetime
from state.models import State
from border.models import Border
from property.models import Property

import random
import requests
import json



f = faker.Faker()

from agent.models import Agent


al_zipcode = [
        99501,
        99502,
        99503,
        99504,
        99505,
        99506,
        99507,
        99508,
        99509,
        99510,
        99511,
        99513,
        99514,
        99515,
        99516,
        99517,
        99518,
        99519,
        99520,
        99521,
        99522,
        99523,
        99524,
        99529,
        99530,
        99540,
        99545,
        99546,
        99547,
        99548,
        99549,
        99550,
        99551,
        99552,
        99553,
        99554,
        99555,
        99556,
        99557,
        99558,
        99559,
        99561,
        99563,
        99564,
        99565,
        99566,
        99567,
        99568,
        99569,
        99571,
        99572,
        99573,
        99574,
        99575,
        99576,
        99577,
        99578,
        99579,
        99580,
        99581,
        99583,
        99585,
        99586,
        99587,
        99588,
        99589,
        99590,
        99591,
        99599,
        99602,
        99603,
        99604,
        99605,
        99606,
        99607,
        99608,
        99609,
        99610,
        99611,
        99612,
        99613,
        99614,
        99615,
        99619,
        99620,
        99621,
        99622,
        99623,
        99624,
        99625,
        99626,
        99627,
        99628,
        99629,
        99630,
        99631,
        99632,
        99633,
        99634,
        99635,
        99636,
        99637,
        99638,
        99639,
        99640,
        99641,
        99643,
        99644,
        99645,
        99647,
        99648,
        99649,
        99650,
        99651,
        99652,
        99653,
        99654,
        99655,
        99656,
        99657,
        99658,
        99659,
        99660,
        99661,
        99662,
        99663,
        99664,
        99665,
        99666,
        99667,
        99668,
        99669,
        99670,
        99671,
        99672,
        99674,
        99675,
        99676,
        99677,
        99678,
        99679,
        99680,
        99681,
        99682,
        99683,
        99684,
        99685,
        99686,
        99687,
        99688,
        99689,
        99690,
        99691,
        99692,
        99693,
        99694,
        99695,
        99697,
        99701,
        99702,
        99703,
        99704,
        99705,
        99706,
        99707,
        99708,
        99709,
        99710,
        99711,
        99712,
        99714,
        99716,
        99720,
        99721,
        99722,
        99723,
        99724,
        99725,
        99726,
        99727,
        99729,
        99730,
        99731,
        99732,
        99733,
        99734,
        99736,
        99737,
        99738,
        99739,
        99740,
        99741,
        99742,
        99743,
        99744,
        99745,
        99746,
        99747,
        99748,
        99749,
        99750,
        99751,
        99752,
        99753,
        99754,
        99755,
        99756,
        99757,
        99758,
        99759,
        99760,
        99761,
        99762,
        99763,
        99764,
        99765,
        99766,
        99767,
        99768,
        99769,
        99770,
        99771,
        99772,
        99773,
        99774,
        99775,
        99776,
        99777,
        99778,
        99779,
        99780,
        99781,
        99782,
        99783,
        99784,
        99785,
        99786,
        99788,
        99789,
        99790,
        99791,
        99801,
        99802,
        99803,
        99811,
        99812,
        99820,
        99821,
        99824,
        99825,
        99826,
        99827,
        99829,
        99830,
        99832,
        99833,
        99835,
        99836,
        99840,
        99841,
        99850,
        99901,
        99903,
        99918,
        99919,
        99921,
        99922,
        99923,
        99925,
        99926,
        99927,
        99928,
        99929,
        99950
]

prop_list = [
    "HOUSE" , "FLAT", "OTHER"
]

sale_list = [
    "SALE", "RENT"
]

def print_some():
    for i in range(1,2):
        r = requests.get(url="https://www.zipcodeapi.com/rest/k4uyAa56E5L2fQK5PzTbuMt9Qz9n1PMJjWa6g6VhbQM8WbqOwUuz8jd7C1f9X4IQ/info.json/{}/degrees".format(al_zipcode[i]))
        data = r.json()
        print(data)

def fake_property():

    for i in range(1, 20):

        r = requests.get(url="https://www.zipcodeapi.com/rest/k4uyAa56E5L2fQK5PzTbuMt9Qz9n1PMJjWa6g6VhbQM8WbqOwUuz8jd7C1f9X4IQ/info.json/{}/degrees".format(al_zipcode[i]))
        data = r.json()

        Property.objects.create(
            agent = Agent.objects.get(pk=19),
            name = f.name(),
            description = f.text(),
            price = random.randint(34, 123),
            prop_type = prop_list[random.randint(0,2)],
            room = random.randint(4,8),
            bath_rooms = random.randint(2,6),
            bed_room = random.randint(2,6),
            square_meter = random.randint(600,1500),
            sale_type = sale_list[random.randint(0,1)],
            address1 = f.address(),
            address2 = f.secondary_address(),
            postal_code = al_zipcode[i],
            state = State.objects.get(pk=2),
            c_border = Border.objects.get(pk=209),
            location = "POINT({} {})".format(data["lng"],data['lat'])
        )

